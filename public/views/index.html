
<section class="row">
    <!--data-ng-controller="leaveController as leave"-->
    <section data-ng-if="!authentication.user" class="text-center">
        <div class=" col-xs-offset-2 col-xs-8 col-md-offset-2 col-md-6 ng-scope"
             ng-controller="AuthenticationController">
            <div class="widget flat radius-bordered">
                <div class="widget-header bg-blue" style="width: 535px;">
                    <span class="widget-caption unAuthorized">Login Form</span>
                </div>
                <div class="widget-body" style="height: 300px;width: 535px;">
                    <div id="registration-form" class="LoginForm">
                        <form data-ng-submit="signin()" class="signin form-horizontal" role="form"
                              style="padding: 20px;"
                              autocomplete="off">
                            <fieldset>
                                <div class="form-title">
                                    User Credentials
                                </div>
                                <div class="form-group">
							<span class="input-icon icon-right">
                                <input type="text" class="form-control" name="username" id="username"
                                       placeholder="User Name"
                                       data-ng-model="credentials.username" required><i
                                    class="glyphicon glyphicon-user circular"></i>
                            </span>
                                </div>
                                <div class="form-group">
                                    <span class="input-icon icon-right">
                                        <input type="password" class="form-control" name="password" id="password"
                                               placeholder="Password"
                                               data-ng-model="credentials.password" required> <i
                                            class="fa fa-lock circular"></i>
                                    </span>
                                </div>
                                <div class="text-center form-group">
                                    <button type="submit" class="btn btn-primary">Sign in</button>
                                </div>
                                <div data-ng-show="error" class="text-center text-danger">
                                    <strong>{{error}}</strong>
                                </div>
                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!--<a href="/#!/signup">Sign up</a> or
        <a href="/#!/signin">Sign in</a>-->
    </section>
    <section data-ng-if="authentication.user" data-ng-controller="LeaveController as leave" class="text-center">

        <h3 class="col-md-7" >Welcome, {{authentication.user.username}}!</h3>

        <!--<a href="/auth/signout">Sign out</a>
        <button data-ng-controller="AuthenticationController" class="btn btn-large btn-success shiny"
                ng-click="editUserProfile1()">UpdateUserProfile
        </button>
        <button data-ng-controller="AuthenticationController" class="btn btn-large btn-success shiny"
                ng-click="getUsersInfo()">ListUsers
        </button>
        &nbsp; or&nbsp;
        <a href="/#!/signup" class="btn btn-large btn-success shiny"
                >Create New User </a>-->
        <script type="application/javascript">
            /**
             * Created by bsamudrala on 29-12-2015.
             */
                // When the document is ready

            $(document).ready(function () {
                $('#fromDate').on("click",function(e){
                    $('#fromDate').datepicker();
                });
                $('#toDate').click(function(e){
                    $('#toDate').datepicker();
                });
            });

        </script>

        <!--<div class="col-xs-offset-2 col-xs-8 col-md-offset-5 col-md-2">
            <form data-ng-submit="applyLeave()" method="POST" name="LeaveApplicationForm" class="signin form-horizontal"
                  novalidate autocomplete="off">
                <fieldset>
                    <div class="form-group">
                        <label for="type">Leave Type</label>
                        <select class="form-control" name="type" id="type"
                                data-ng-model="leave.leaveType.type" required>
                            <option selected>Casual-Sick Leave</option>
                            <option>Long Leave</option>
                        </select>
                    </div>
                    &lt;!&ndash; <div class="form-group">
                         <input class="form-control date-picker" id="id-date-picker-1" data-ng-model="leave.fromDate" type="text" placeholder="dd-mm-yyyy" data-date-format="dd-mm-yyyy">
                                                 <span class="input-group-addon">
                                                     <i class="fa fa-calendar"></i>
                                                 </span>
                     </div>&ndash;&gt;
                    <div class="form-group">
                        <label for="fromDate">Strat Date</label>
                        <input type="date" id="fromDate" name="fromDate" class="form-control"
                               data-ng-model="leave.fromDate" placeholder="dd-mm-yyyy">
                    </div>
                    <div class="form-group">
                        <label for="toDate">End Date</label>
                        <input type="date" id="toDate" name="toDate" class="form-control"
                               data-ng-model="leave.toDate" placeholder="dd-mm-yyyy">
                    </div>
                    <div class="form-group">
                        <label for="approval">Approval</label>

                        <select class="form-control" name="approval" id="approval"
                                data-ng-model="leave.approval" required>
                            <option>pradeep</option>
                            <option>bharath</option>
                            <option selected>ashok</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="alternateApprover">Alternate-Approvar</label>
                        <select class="form-control" name="alternateApproval" id="alternateApprover"
                                data-ng-model="leave.alternateApprover" required>
                            <option>poorna</option>
                            <option selected>deep</option>

                        </select>
                    </div>
                    <div class="form-group">
                        <label for="balance">Balence Leves</label>
                        <input type="text" id="balance" name="balance" class="form-control"
                               data-ng-model="leave.balance" placeholder="10">
                    </div>
                    <div class="form-group">
                        <label for="reason">Reason</label>
                        <textarea id="reason" name="reason" class="form-control"
                                  data-ng-model="leave.reason" placeholder="Reason for Applying Leave"
                                  required></textarea>
                    </div>
                    <div class="form-group">
                        <table>
                            <tr>
                                &lt;!&ndash;<td style="padding-right:75px">&ndash;&gt;
                                <td ng-if="!leave.isEdited">
                                    <button type="submit" class=" btn btn-large btn-success shiny"
                                            data-ng-disabled="LeaveApplicationForm.$invalid">ApplyNow
                                    </button>
                                </td>
                                <td ng-if="leave.isEdited">
                                    <button ng-click="edit(leave._id)" class=" btn btn-large btn-success shiny"
                                            data-ng-disabled="LeaveApplicationForm.$invalid">Update
                                    </button>
                                </td>

                            </tr>

                        </table>
                    </div>
                    <div data-ng-show="error" class="text-center text-danger">
                        <strong>{{error}}</strong>
                    </div>
                </fieldset>
            </form>
        </div>-->
        <div class=" col-xs-offset-2 col-xs-8 col-md-offset-2 col-md-6 ng-scope">
            <div class="widget flat radius-bordered">
                <div class="widget-header bg-blue">
                    <span class="widget-caption">LeaveApplicationForm</span>
                </div>
                <div class="widget-body">
                    <div id="registration1-form">
                        <div data-ng-show="error" class="text-center text-danger">
                            <strong>{{error}}</strong>
                        </div>
                        <form data-ng-submit="applyLeave()" class="signin form-horizontal" novalidate autocomplete="off"
                              role="form" style="padding: 20px;">
                            <div class="form-title">
                                Leave Information
                            </div>
                            <div class="form-group">
                             <span class="input-icon icon-right">
                                 <select type="text" class="form-control" name="type" id="type"
                                         placeholder="Leave Type"
                                         data-ng-model="leave.leaveType.type" required><i
                                         class="glyphicon glyphicon-user circular"></i>
                                     <option selected>Casual-Sick Leave</option>
                                     <option>Long Leave</option>
                                 </select>
                             </span>
                            </div>
                            <div class="form-group" id="fromDate">
                            <span class="input-icon icon-right">
                                 <input type="date" class="form-control"
                                        placeholder="dd-mm-yyyy"
                                        data-ng-model="leave.fromDate" required>
                                <i class="glyphicon glyphicon-calendar circular"></i>
                            </span>
                            </div>
                            <div class="form-group" id="toDate">
                            <span class="input-icon icon-right input-group date">
                                 <input type="date" class="form-control"
                                        placeholder="dd-mm-yyyy"
                                        data-ng-model="leave.toDate" required>
                                <i class="glyphicon glyphicon-calendar circular"></i>
                            </span>
                            </div>
                            <div class="form-group">
                            <span class="input-icon icon-right input-group date">
                                <select type="text" class="form-control"  id="approval"
                                        placeholder="Approval"
                                        data-ng-model="leave.approval" required>
                                    <i class="fa fa-envelope-o circular"></i>
                                    <option>pradeep</option>
                                    <option>bharath</option>
                                    <option>ashok</option>
                                </select>
                             </span>
                            </div>
                            <div class="form-group">
                            <span class="input-icon icon-right">
                                <select type="text" class="form-control" name="alternateApproval" id="alternateApproval"
                                        placeholder="AlternateApproval"
                                        data-ng-model="leave.alternateApprover" required>
                                    <i class="fa fa-envelope-o circular"></i>
                                    <option>pradeep</option>
                                    <option>bharath</option>
                                    <option>ashok</option>
                                </select>
                             </span>
                            </div>
                            <div class="form-group">
							<span class="input-icon icon-right">
                                <textarea class="form-control" name="reason" id="reason"
                                          placeholder="Reason"
                                          data-ng-model="leave.reason" required>
                                    </textarea>
                            </span>
                            </div>
                            <div class="form-group">
                                <table>
                                    <tr>
                                        <!--<td style="padding-right:75px">-->
                                        <td class="col-md-7"></td>
                                        <td ng-if="!leave.isEdited">
                                            <button type="submit" class=" btn btn-large btn-blue shiny"
                                                    data-ng-disabled="LeaveApplicationForm.$invalid">ApplyNow
                                            </button>
                                        </td>
                                        <td ng-if="leave.isEdited">
                                            <button ng-click="edit(leave._id)" class=" btn btn-large btn-blue shiny"
                                                    data-ng-disabled="LeaveApplicationForm.$invalid">Update
                                            </button>
                                        </td>

                                    </tr>

                                </table>
                            </div>
                            <div data-ng-show="error" class="text-center text-danger">
                                <strong>{{error}}</strong>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div ng-if="authentication.listofleaves" class="container">
            <table class="table">
                <thead>
                <tr>
                    <th>Leave Type</th>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <th>Approval</th>
                    <th>Status</th>
                    <th>Reason</th>
                </tr>
                </thead>
                <tbody>
                <tr  class="authorized" ng-repeat="leave in authentication.listofleaves">
                    <td>{{leave.leaveType.type}}</td>
                    <td>{{leave.fromDate}}</td>
                    <td>{{leave.toDate}}</td>
                    <td>{{leave.approvedBy}}</td>
                    <td>{{leave.status}}</td>
                    <td>{{leave.reason}}</td>
                    <td></td>
                    <td>
                        <button class="btn btn-danger" ng-click="deleteLeave(leave._id)">Remove</button>
                    </td>
                    <td>
                        <button class="btn btn-warning" ng-click="edit(leave._id)">Edit</button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </section>
   <!-- <script type="text/javascript">
        // When the document is ready

        $(document).ready(function () {
            alert("Document is ready now");
            $('#fromDate').on("click",function(e){
                alert("fromDate clicked");

                $('#fromDate').datepicker();
            });
            $('#toDate').click(function(e){
                alert("toDate clicked");
                $('#toDate').datepicker({
                    format: "dd/mm/yyyy"
                });
            });
        });
    </script>-->

    <script src="../controllers/leave.client.controller.js"></script>

</section>                                                